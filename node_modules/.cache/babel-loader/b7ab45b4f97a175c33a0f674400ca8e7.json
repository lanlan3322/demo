{"ast":null,"code":"import _regeneratorRuntime from\"/Users/vina/Documents/GitHub/demo/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/vina/Documents/GitHub/demo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/vina/Documents/GitHub/demo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import fullLogo from'../kleros-logo-fullwhite.png';import{BrowserRouter as Router,Switch,Route,Link,useRouteMatch,useParams}from\"react-router-dom\";import{useEffect,useState}from'react';import{useLocation}from'react-router';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Navbar(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),connected=_useState2[0],toggleConnect=_useState2[1];var location=useLocation();var _useState3=useState('0x'),_useState4=_slicedToArray(_useState3,2),currAddress=_useState4[0],updateAddress=_useState4[1];function getAddress(){return _getAddress.apply(this,arguments);}function _getAddress(){_getAddress=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var ethers,provider,signer,addr;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:ethers=require(\"ethers\");provider=new ethers.providers.Web3Provider(window.ethereum);signer=provider.getSigner();_context.next=5;return signer.getAddress();case 5:addr=_context.sent;updateAddress(addr);case 7:case\"end\":return _context.stop();}}},_callee);}));return _getAddress.apply(this,arguments);}function updateButton(){var ethereumButton=document.querySelector('.enableEthereumButton');ethereumButton.textContent=\"Connected\";ethereumButton.classList.remove(\"hover:bg-blue-70\");ethereumButton.classList.remove(\"bg-blue-500\");ethereumButton.classList.add(\"hover:bg-green-70\");ethereumButton.classList.add(\"bg-green-500\");}function connectWebsite(){return _connectWebsite.apply(this,arguments);}function _connectWebsite(){_connectWebsite=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var chainId;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return window.ethereum.request({method:'eth_chainId'});case 2:chainId=_context2.sent;if(!(chainId!=='0x5')){_context2.next=6;break;}_context2.next=6;return window.ethereum.request({method:'wallet_switchEthereumChain',params:[{chainId:'0x5'}]});case 6:_context2.next=8;return window.ethereum.request({method:'eth_requestAccounts'}).then(function(){updateButton();console.log(\"here\");getAddress();window.location.replace(location.pathname);});case 8:case\"end\":return _context2.stop();}}},_callee2);}));return _connectWebsite.apply(this,arguments);}useEffect(function(){var val=window.ethereum.isConnected();if(val){console.log(\"here\");getAddress();toggleConnect(val);updateButton();}window.ethereum.on('accountsChanged',function(accounts){window.location.replace(location.pathname);});});return/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(\"nav\",{className:\"w-screen\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"flex items-end justify-between py-3 bg-transparent text-white pr-5\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"flex items-end ml-5 pb-2\",children:/*#__PURE__*/_jsxs(Link,{to:\"/\",children:[/*#__PURE__*/_jsx(\"img\",{src:fullLogo,alt:\"\",width:120,height:120,className:\"inline-block -mt-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"inline-block font-bold text-xl ml-2\",children:\"301NFT\"})]})}),/*#__PURE__*/_jsx(\"li\",{className:\"w-2/6\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"lg:flex justify-between font-bold mr-10 text-lg\",children:[location.pathname===\"/\"?/*#__PURE__*/_jsx(\"li\",{className:\"border-b-2 hover:pb-0 p-2\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Famous 301NFT\"})}):/*#__PURE__*/_jsx(\"li\",{className:\"hover:border-b-2 hover:pb-0 p-2\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Famous 301NFT\"})}),location.pathname===\"/sellNFT\"?/*#__PURE__*/_jsx(\"li\",{className:\"border-b-2 hover:pb-0 p-2\",children:/*#__PURE__*/_jsx(Link,{to:\"/sellNFT\",children:\"Create 301NFT\"})}):/*#__PURE__*/_jsx(\"li\",{className:\"hover:border-b-2 hover:pb-0 p-2\",children:/*#__PURE__*/_jsx(Link,{to:\"/sellNFT\",children:\"Create 301NFT\"})}),location.pathname===\"/profile\"?/*#__PURE__*/_jsx(\"li\",{className:\"border-b-2 hover:pb-0 p-2\",children:/*#__PURE__*/_jsx(Link,{to:\"/profile\",children:\"My 301NFTs\"})}):/*#__PURE__*/_jsx(\"li\",{className:\"hover:border-b-2 hover:pb-0 p-2\",children:/*#__PURE__*/_jsx(Link,{to:\"/profile\",children:\"My 301NFTs\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"enableEthereumButton bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded text-sm\",onClick:connectWebsite,children:connected?\"Connected\":\"Connect Wallet\"})})]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-white text-bold text-right mr-10 text-sm\",children:[currAddress!==\"0x\"?\"Connected to\":\"Not Connected. Please login to view NFTs\",\" \",currAddress!==\"0x\"?currAddress.substring(0,15)+'...':\"\"]})]});}export default Navbar;","map":{"version":3,"names":["fullLogo","BrowserRouter","Router","Switch","Route","Link","useRouteMatch","useParams","useEffect","useState","useLocation","Navbar","connected","toggleConnect","location","currAddress","updateAddress","getAddress","ethers","require","provider","providers","Web3Provider","window","ethereum","signer","getSigner","addr","updateButton","ethereumButton","document","querySelector","textContent","classList","remove","add","connectWebsite","request","method","chainId","params","then","console","log","replace","pathname","val","isConnected","on","accounts","substring"],"sources":["/Users/vina/Documents/GitHub/demo/src/components/Navbar.js"],"sourcesContent":["import fullLogo from '../kleros-logo-fullwhite.png';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  useRouteMatch,\n  useParams\n} from \"react-router-dom\";\nimport { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router';\n\nfunction Navbar() {\n\nconst [connected, toggleConnect] = useState(false);\nconst location = useLocation();\nconst [currAddress, updateAddress] = useState('0x');\n\nasync function getAddress() {\n  const ethers = require(\"ethers\");\n  const provider = new ethers.providers.Web3Provider(window.ethereum);\n  const signer = provider.getSigner();\n  const addr = await signer.getAddress();\n  updateAddress(addr);\n}\n\nfunction updateButton() {\n  const ethereumButton = document.querySelector('.enableEthereumButton');\n  ethereumButton.textContent = \"Connected\";\n  ethereumButton.classList.remove(\"hover:bg-blue-70\");\n  ethereumButton.classList.remove(\"bg-blue-500\");\n  ethereumButton.classList.add(\"hover:bg-green-70\");\n  ethereumButton.classList.add(\"bg-green-500\");\n}\n\nasync function connectWebsite() {\n\n    const chainId = await window.ethereum.request({ method: 'eth_chainId' });\n    if(chainId !== '0x5')\n    {\n      //alert('Incorrect network! Switch your metamask network to Rinkeby');\n      await window.ethereum.request({\n        method: 'wallet_switchEthereumChain',\n        params: [{ chainId: '0x5' }],\n     })\n    }  \n    await window.ethereum.request({ method: 'eth_requestAccounts' })\n      .then(() => {\n        updateButton();\n        console.log(\"here\");\n        getAddress();\n        window.location.replace(location.pathname)\n      });\n}\n\n  useEffect(() => {\n    let val = window.ethereum.isConnected();\n    if(val)\n    {\n      console.log(\"here\");\n      getAddress();\n      toggleConnect(val);\n      updateButton();\n    }\n\n    window.ethereum.on('accountsChanged', function(accounts){\n      window.location.replace(location.pathname)\n    })\n  });\n\n    return (\n      <div className=\"\">\n        <nav className=\"w-screen\">\n          <ul className='flex items-end justify-between py-3 bg-transparent text-white pr-5'>\n          <li className='flex items-end ml-5 pb-2'>\n            <Link to=\"/\">\n            <img src={fullLogo} alt=\"\" width={120} height={120} className=\"inline-block -mt-2\"/>\n            <div className='inline-block font-bold text-xl ml-2'>\n              301NFT\n            </div>\n            </Link>\n          </li>\n          <li className='w-2/6'>\n            <ul className='lg:flex justify-between font-bold mr-10 text-lg'>\n              {location.pathname === \"/\" ? \n              <li className='border-b-2 hover:pb-0 p-2'>\n                <Link to=\"/\">Famous 301NFT</Link>\n              </li>\n              :\n              <li className='hover:border-b-2 hover:pb-0 p-2'>\n                <Link to=\"/\">Famous 301NFT</Link>\n              </li>              \n              }\n              {location.pathname === \"/sellNFT\" ? \n              <li className='border-b-2 hover:pb-0 p-2'>\n                <Link to=\"/sellNFT\">Create 301NFT</Link>\n              </li>\n              :\n              <li className='hover:border-b-2 hover:pb-0 p-2'>\n                <Link to=\"/sellNFT\">Create 301NFT</Link>\n              </li>              \n              }              \n              {location.pathname === \"/profile\" ? \n              <li className='border-b-2 hover:pb-0 p-2'>\n                <Link to=\"/profile\">My 301NFTs</Link>\n              </li>\n              :\n              <li className='hover:border-b-2 hover:pb-0 p-2'>\n                <Link to=\"/profile\">My 301NFTs</Link>\n              </li>              \n              }  \n              <li>\n                <button className=\"enableEthereumButton bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded text-sm\" onClick={connectWebsite}>{connected? \"Connected\":\"Connect Wallet\"}</button>\n              </li>\n            </ul>\n          </li>\n          </ul>\n        </nav>\n        <div className='text-white text-bold text-right mr-10 text-sm'>\n          {currAddress !== \"0x\" ? \"Connected to\":\"Not Connected. Please login to view NFTs\"} {currAddress !== \"0x\" ? (currAddress.substring(0,15)+'...'):\"\"}\n        </div>\n      </div>\n    );\n  }\n\n  export default Navbar;"],"mappings":"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"},"metadata":{},"sourceType":"module"}